## 工厂模式

![](https://img2018.cnblogs.com/blog/1216080/201904/1216080-20190406210036413-1526135600.png)

之前学过一个简单工厂模式, 这里又有一个工厂模式.. 经过实际写了一个[demo](https://github.com/itdennis/DennisDemos/tree/master/FactoryDemo)之后, 发现了二者还是有一些区别的.

### 下面是重点

>`简单工厂模式下, 程序其实是违背了设计模式的原则之一: 开闭原则的. 因为在简单工厂模式下, 添加一个算法模型, 需要对简单工厂的类进行修改.
在工厂模式中弥补了这一个问题就是对工厂进行抽象. `

工厂经过抽象后, 添加的算法模型需要继承自工厂的一个抽象.
这个工厂会抽象一个创建product的方法. 各个算法实现类实现这个创建对应的product的方法即可.
那么在这种情况下, 添加一个算法模型, 只需要再添加一个实现了这个算法对应的实现了工厂抽象类的实际类.

然后产品类也有自己的抽象.产品类的设计需要根据实际的业务需求, 将共同的东西抽象出来. 在demo中我们将GetResult的实际业务操作抽象到基类中, 让各个实际产品类进行相应的实现.

然后client的类需要做的就是先初始化一个IFactory对应的实例.然后用这个实例生产一个product.将product的属性进行赋值后, 使用创建出的product进行业务逻辑运算.

![](https://img2018.cnblogs.com/blog/1216080/201904/1216080-20190406215020584-1445489564.png)


### 个人总结, 错了别打我.

一般来说尽量使用工厂模式吧. 因为它没有违背设计模式原则.